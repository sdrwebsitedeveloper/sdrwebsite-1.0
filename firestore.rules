rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    // programs 컬렉션에 대한 규칙
    match /programs/{program} {
      allow read: if true;  // 모든 사용자가 읽을 수 있음
      allow write: if true;  // 모든 사용자가 읽을 수 있음
    }

    // review-programs 컬렉션에 대한 규칙
    match /review-programs/{reviewProgram} {
      allow read: if true;  // 모든 사용자가 읽을 수 있음
      allow write: if true;  // 모든 사용자가 읽을 수 있음
    }
    
    // mattour-notices 컬렉션에 대한 규칙 추가
    match /mattour-notices/{notice} {
      allow read: if true;  // 모든 사용자가 읽을 수 있음
      allow write: if request.auth != null;  // 인증된 사용자만 쓸 수 있음
    }

    // mattour 문서에 대한 규칙
    match /pages/mattour {
      allow read: if true;  // 모든 사용자가 읽을 수 있음
    }

    // uflex 문서에 대한 규칙
    match /pages/uflex {
      allow read: if true;  // 모든 사용자가 읽을 수 있음
    }

    // notices 컬렉션에 대한 규칙 추가
    match /notices/{notice} {
      allow read: if true;  // 모든 사용자가 읽을 수 있음
      allow write: if request.auth != null;  // 인증된 사용자만 쓸 수 있음
    }
    
    // posts 컬렉션에 대한 규칙 추가
    match /posts/{post} {
      allow read: if true;  // 모든 사용자가 읽을 수 있음
      allow write: if request.auth != null;  // 인증된 사용자만 쓸 수 있음
    }

    // 나머지 문서에 대한 기본 규칙 설정
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}